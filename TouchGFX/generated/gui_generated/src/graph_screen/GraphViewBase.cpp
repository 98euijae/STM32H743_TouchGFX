/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/graph_screen/GraphViewBase.hpp>
#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>

GraphViewBase::GraphViewBase() :
    buttonCallback(this, &GraphViewBase::buttonCallbackHandler),
    frameCountSensorTextAlarmInterval(0)
{
    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);
    
    __background.setPosition(0, 0, 640, 480);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    box1.setPosition(0, 0, 640, 480);
    box1.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(box1);

    graphBtn.setXY(95, 222);
    graphBtn.setBitmaps(touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_REGULAR_HEIGHT_36_TINY_ROUNDED_NORMAL_ID), touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_REGULAR_HEIGHT_36_TINY_ROUNDED_PRESSED_ID));
    graphBtn.setLabelText(touchgfx::TypedText(T_GRAPHBTNOFF));
    graphBtn.setLabelColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    graphBtn.setLabelColorPressed(touchgfx::Color::getColorFromRGB(255, 255, 255));
    graphBtn.setAction(buttonCallback);
    add(graphBtn);

    addPointBtn.setXY(270, 222);
    addPointBtn.setBitmaps(touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_REGULAR_HEIGHT_36_TINY_ROUNDED_NORMAL_ID), touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_REGULAR_HEIGHT_36_TINY_ROUNDED_PRESSED_ID));
    addPointBtn.setLabelText(touchgfx::TypedText(T_ADDPOINTBTN));
    addPointBtn.setLabelColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    addPointBtn.setLabelColorPressed(touchgfx::Color::getColorFromRGB(255, 255, 255));
    addPointBtn.setAction(buttonCallback);
    add(addPointBtn);

    changeScreenBtn.setXY(445, 222);
    changeScreenBtn.setBitmaps(touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_REGULAR_HEIGHT_36_TINY_ROUNDED_NORMAL_ID), touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_REGULAR_HEIGHT_36_TINY_ROUNDED_PRESSED_ID));
    changeScreenBtn.setLabelText(touchgfx::TypedText(T_CHANGESCREEN));
    changeScreenBtn.setLabelColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    changeScreenBtn.setLabelColorPressed(touchgfx::Color::getColorFromRGB(255, 255, 255));
    changeScreenBtn.setAction(buttonCallback);
    add(changeScreenBtn);

    graphContainer.setPosition(0, 0, 640, 480);
    ch2Graph.setPosition(370, 30, 250, 180);
    ch2Graph.setScaleX(1);
    ch2Graph.setScaleY(1);
    ch2Graph.setGraphAreaMargin(0, 0, 0, 0);
    ch2Graph.setGraphAreaPadding(0, 0, 0, 0);
    ch2Graph.setGraphRangeX(-100, 100);
    ch2Graph.setGraphRangeY(-100, 100);
    ch2GraphMinorXAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch2GraphMinorXAxisGrid.setInterval(20);
    ch2GraphMinorXAxisGrid.setLineWidth(1);
    ch2GraphMinorXAxisGrid.setAlpha(50);
    ch2GraphMinorXAxisGrid.setScale(1);
    ch2GraphMinorXAxisGrid.setMajorGrid(ch2GraphMajorXAxisGrid);
    ch2Graph.addGraphElement(ch2GraphMinorXAxisGrid);

    ch2GraphMinorYAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch2GraphMinorYAxisGrid.setInterval(20);
    ch2GraphMinorYAxisGrid.setLineWidth(1);
    ch2GraphMinorYAxisGrid.setAlpha(50);
    ch2GraphMinorYAxisGrid.setScale(1);
    ch2GraphMinorYAxisGrid.setMajorGrid(ch2GraphMajorYAxisGrid);
    ch2Graph.addGraphElement(ch2GraphMinorYAxisGrid);

    ch2GraphMajorXAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch2GraphMajorXAxisGrid.setInterval(100);
    ch2GraphMajorXAxisGrid.setLineWidth(1);
    ch2GraphMajorXAxisGrid.setScale(1);
    ch2Graph.addGraphElement(ch2GraphMajorXAxisGrid);

    ch2GraphMajorYAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch2GraphMajorYAxisGrid.setInterval(100);
    ch2GraphMajorYAxisGrid.setLineWidth(1);
    ch2GraphMajorYAxisGrid.setScale(1);
    ch2Graph.addGraphElement(ch2GraphMajorYAxisGrid);

    ch2GraphDots1Painter.setColor(touchgfx::Color::getColorFromRGB(255, 0, 0));
    ch2GraphDots1.setPainter(ch2GraphDots1Painter);
    ch2GraphDots1.setDotWidth(4);
    ch2Graph.addGraphElement(ch2GraphDots1);


    graphContainer.add(ch2Graph);

    ch4Graph.setPosition(370, 270, 250, 180);
    ch4Graph.setScaleX(1);
    ch4Graph.setScaleY(1);
    ch4Graph.setGraphAreaMargin(0, 0, 0, 0);
    ch4Graph.setGraphAreaPadding(0, 0, 0, 0);
    ch4Graph.setGraphRangeX(-100, 100);
    ch4Graph.setGraphRangeY(-100, 100);
    ch4GraphMinorXAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch4GraphMinorXAxisGrid.setInterval(20);
    ch4GraphMinorXAxisGrid.setLineWidth(1);
    ch4GraphMinorXAxisGrid.setAlpha(50);
    ch4GraphMinorXAxisGrid.setScale(1);
    ch4GraphMinorXAxisGrid.setMajorGrid(ch4GraphMajorXAxisGrid);
    ch4Graph.addGraphElement(ch4GraphMinorXAxisGrid);

    ch4GraphMinorYAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch4GraphMinorYAxisGrid.setInterval(20);
    ch4GraphMinorYAxisGrid.setLineWidth(1);
    ch4GraphMinorYAxisGrid.setAlpha(50);
    ch4GraphMinorYAxisGrid.setScale(1);
    ch4GraphMinorYAxisGrid.setMajorGrid(ch4GraphMajorYAxisGrid);
    ch4Graph.addGraphElement(ch4GraphMinorYAxisGrid);

    ch4GraphMajorXAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch4GraphMajorXAxisGrid.setInterval(100);
    ch4GraphMajorXAxisGrid.setLineWidth(1);
    ch4GraphMajorXAxisGrid.setScale(1);
    ch4Graph.addGraphElement(ch4GraphMajorXAxisGrid);

    ch4GraphMajorYAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch4GraphMajorYAxisGrid.setInterval(100);
    ch4GraphMajorYAxisGrid.setLineWidth(1);
    ch4GraphMajorYAxisGrid.setScale(1);
    ch4Graph.addGraphElement(ch4GraphMajorYAxisGrid);

    ch4GraphDots1Painter.setColor(touchgfx::Color::getColorFromRGB(255, 0, 0));
    ch4GraphDots1.setPainter(ch4GraphDots1Painter);
    ch4GraphDots1.setDotWidth(4);
    ch4Graph.addGraphElement(ch4GraphDots1);

    graphContainer.add(ch4Graph);

    ch3Graph.setPosition(20, 270, 250, 180);
    ch3Graph.setScaleX(1);
    ch3Graph.setScaleY(1);
    ch3Graph.setGraphAreaMargin(0, 0, 0, 0);
    ch3Graph.setGraphAreaPadding(0, 0, 0, 0);
    ch3Graph.setGraphRangeX(-100, 100);
    ch3Graph.setGraphRangeY(-100, 100);
    ch3GraphMinorXAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch3GraphMinorXAxisGrid.setInterval(20);
    ch3GraphMinorXAxisGrid.setLineWidth(1);
    ch3GraphMinorXAxisGrid.setAlpha(50);
    ch3GraphMinorXAxisGrid.setScale(1);
    ch3GraphMinorXAxisGrid.setMajorGrid(ch3GraphMajorXAxisGrid);
    ch3Graph.addGraphElement(ch3GraphMinorXAxisGrid);

    ch3GraphMinorYAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch3GraphMinorYAxisGrid.setInterval(20);
    ch3GraphMinorYAxisGrid.setLineWidth(1);
    ch3GraphMinorYAxisGrid.setAlpha(50);
    ch3GraphMinorYAxisGrid.setScale(1);
    ch3GraphMinorYAxisGrid.setMajorGrid(ch3GraphMajorYAxisGrid);
    ch3Graph.addGraphElement(ch3GraphMinorYAxisGrid);

    ch3GraphMajorXAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch3GraphMajorXAxisGrid.setInterval(100);
    ch3GraphMajorXAxisGrid.setLineWidth(1);
    ch3GraphMajorXAxisGrid.setScale(1);
    ch3Graph.addGraphElement(ch3GraphMajorXAxisGrid);

    ch3GraphMajorYAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch3GraphMajorYAxisGrid.setInterval(100);
    ch3GraphMajorYAxisGrid.setLineWidth(1);
    ch3GraphMajorYAxisGrid.setScale(1);
    ch3Graph.addGraphElement(ch3GraphMajorYAxisGrid);

    ch3GraphDots1Painter.setColor(touchgfx::Color::getColorFromRGB(255, 0, 0));
    ch3GraphDots1.setPainter(ch3GraphDots1Painter);
    ch3GraphDots1.setDotWidth(4);
    ch3Graph.addGraphElement(ch3GraphDots1);

    graphContainer.add(ch3Graph);

    ch1Graph.setPosition(20, 30, 250, 180);
    ch1Graph.setScaleX(1);
    ch1Graph.setScaleY(1);
    ch1Graph.setGraphAreaMargin(0, 0, 0, 0);
    ch1Graph.setGraphAreaPadding(0, 0, 0, 0);
    ch1Graph.setGraphRangeX(0, 600);
    ch1Graph.setGraphRangeY(0, 800);
    ch1GraphMinorXAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch1GraphMinorXAxisGrid.setInterval(50);
    ch1GraphMinorXAxisGrid.setLineWidth(1);
    ch1GraphMinorXAxisGrid.setAlpha(50);
    ch1GraphMinorXAxisGrid.setScale(1);
    ch1GraphMinorXAxisGrid.setMajorGrid(ch1GraphMajorXAxisGrid);
    ch1Graph.addGraphElement(ch1GraphMinorXAxisGrid);

    ch1GraphMinorYAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch1GraphMinorYAxisGrid.setInterval(50);
    ch1GraphMinorYAxisGrid.setLineWidth(1);
    ch1GraphMinorYAxisGrid.setAlpha(50);
    ch1GraphMinorYAxisGrid.setScale(1);
    ch1GraphMinorYAxisGrid.setMajorGrid(ch1GraphMajorYAxisGrid);
    ch1Graph.addGraphElement(ch1GraphMinorYAxisGrid);

    ch1GraphMajorXAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch1GraphMajorXAxisGrid.setInterval(300);
    ch1GraphMajorXAxisGrid.setLineWidth(1);
    ch1GraphMajorXAxisGrid.setScale(1);
    ch1Graph.addGraphElement(ch1GraphMajorXAxisGrid);

    ch1GraphMajorYAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ch1GraphMajorYAxisGrid.setInterval(400);
    ch1GraphMajorYAxisGrid.setLineWidth(1);
    ch1GraphMajorYAxisGrid.setScale(1);
    ch1Graph.addGraphElement(ch1GraphMajorYAxisGrid);

    ch1GraphDots1Painter.setColor(touchgfx::Color::getColorFromRGB(255, 0, 0));
    ch1GraphDots1.setPainter(ch1GraphDots1Painter);
    ch1GraphDots1.setDotWidth(4);
    ch1Graph.addGraphElement(ch1GraphDots1);

    graphContainer.add(ch1Graph);

    add(graphContainer);

    graphTextContainer.setPosition(0, 0, 640, 480);
    ch1SensorText.setXY(209, 192);
    ch1SensorText.setColor(touchgfx::Color::getColorFromRGB(255, 255, 0));
    ch1SensorText.setLinespacing(0);
    ch1SensorText.setTypedText(touchgfx::TypedText(T___SINGLEUSE_RGJN));
    graphTextContainer.add(ch1SensorText);

    ch1Box.setPosition(20, 30, 30, 20);
    ch1Box.setColor(touchgfx::Color::getColorFromRGB(255, 255, 0));
    graphTextContainer.add(ch1Box);

    ch1GraphText.setXY(20, 30);
    ch1GraphText.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    ch1GraphText.setLinespacing(0);
    ch1GraphText.setTypedText(touchgfx::TypedText(T___SINGLEUSE_723H));
    graphTextContainer.add(ch1GraphText);

    ch2SensorText.setXY(559, 192);
    ch2SensorText.setColor(touchgfx::Color::getColorFromRGB(255, 255, 0));
    ch2SensorText.setLinespacing(0);
    ch2SensorText.setTypedText(touchgfx::TypedText(T___SINGLEUSE_B2S8));
    graphTextContainer.add(ch2SensorText);

    ch2Box.setPosition(370, 30, 30, 20);
    ch2Box.setColor(touchgfx::Color::getColorFromRGB(255, 255, 0));
    graphTextContainer.add(ch2Box);

    ch2GraphText.setXY(370, 30);
    ch2GraphText.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    ch2GraphText.setLinespacing(0);
    ch2GraphText.setTypedText(touchgfx::TypedText(T___SINGLEUSE_B787));
    graphTextContainer.add(ch2GraphText);

    ch3SensorText.setXY(210, 432);
    ch3SensorText.setColor(touchgfx::Color::getColorFromRGB(255, 255, 0));
    ch3SensorText.setLinespacing(0);
    ch3SensorText.setTypedText(touchgfx::TypedText(T___SINGLEUSE_WGTF));
    graphTextContainer.add(ch3SensorText);

    ch3Box.setPosition(21, 270, 30, 20);
    ch3Box.setColor(touchgfx::Color::getColorFromRGB(255, 255, 0));
    graphTextContainer.add(ch3Box);

    ch3GraphText.setXY(21, 270);
    ch3GraphText.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    ch3GraphText.setLinespacing(0);
    ch3GraphText.setTypedText(touchgfx::TypedText(T___SINGLEUSE_L538));
    graphTextContainer.add(ch3GraphText);

    ch4SensorText.setXY(559, 432);
    ch4SensorText.setColor(touchgfx::Color::getColorFromRGB(255, 255, 0));
    ch4SensorText.setLinespacing(0);
    ch4SensorText.setTypedText(touchgfx::TypedText(T___SINGLEUSE_HPQR));
    graphTextContainer.add(ch4SensorText);

    ch4Box.setPosition(370, 270, 30, 20);
    ch4Box.setColor(touchgfx::Color::getColorFromRGB(255, 255, 0));
    graphTextContainer.add(ch4Box);

    ch4GraphText.setXY(370, 270);
    ch4GraphText.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    ch4GraphText.setLinespacing(0);
    ch4GraphText.setTypedText(touchgfx::TypedText(T___SINGLEUSE_QOVO));
    graphTextContainer.add(ch4GraphText);

    add(graphTextContainer);

    box2.setPosition(228, 270, 185, 160);
    box2.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    add(box2);

    changeBoxColorBtn.setXY(270, 435);
    changeBoxColorBtn.setBitmaps(touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_REGULAR_HEIGHT_36_TINY_ROUNDED_NORMAL_ID), touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_REGULAR_HEIGHT_36_TINY_ROUNDED_PRESSED_ID));
    changeBoxColorBtn.setLabelText(touchgfx::TypedText(T___SINGLEUSE_2XBY));
    changeBoxColorBtn.setLabelColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    changeBoxColorBtn.setLabelColorPressed(touchgfx::Color::getColorFromRGB(255, 255, 255));
    changeBoxColorBtn.setAction(buttonCallback);
    add(changeBoxColorBtn);
}

GraphViewBase::~GraphViewBase()
{
    touchgfx::CanvasWidgetRenderer::resetBuffer();
}

void GraphViewBase::setupScreen()
{
    transitionBegins();
}

void GraphViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &graphBtn)
    {
        //graphBtnClicked
        //When graphBtn clicked call virtual function
        //Call graphBtnClicked
        graphBtnClicked();
    }
    if (&src == &addPointBtn)
    {
        //addPointBtnClicked
        //When addPointBtn clicked call virtual function
        //Call addPointBtnClicked
        addPointBtnClicked();
    }
    if (&src == &changeScreenBtn)
    {
        //changeScreen
        //When changeScreenBtn clicked change screen to Main
        //Go to Main with no screen transition
        application().gotoMainScreenNoTransition();
    }
    if (&src == &changeBoxColorBtn)
    {
        //changeBoxColorBtnClicked
        //When changeBoxColorBtn clicked call virtual function
        //Call changeBoxColorBtnClicked
        changeBoxColorBtnClicked();
    }
}

void GraphViewBase::handleTickEvent()
{
    frameCountSensorTextAlarmInterval++;
    if(frameCountSensorTextAlarmInterval == TICK_SENSORTEXTALARM_INTERVAL)
    {
        //sensorTextAlarm
        //When every N tick call virtual function
        //Call sensorTextAlarm
        sensorTextAlarm();
        frameCountSensorTextAlarmInterval = 0;
    }
}

void GraphViewBase::transitionBegins()
{
    //transStart
    //When screen transition begins call virtual function
    //Call transStart
    transStart();
}

void GraphViewBase::afterTransition()
{
    //transEnd
    //When screen transition ends call virtual function
    //Call transEnd
    transEnd();
}
